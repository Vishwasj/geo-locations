(this["webpackJsonpgeo-locations"]=this["webpackJsonpgeo-locations"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},28:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(2),r=c.n(s),a=c(17),i=c.n(a),j=(c(25),c(26),c(7)),o=c.n(j),u=c(8),d=c(18),b=c(4),h=(c(28),c(19)),O=c.n(h),l=(c(46),function(e){var t=e.geoNames;return Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Displaying the Geo Names fetched for the search..."}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Country"}),Object(n.jsx)("th",{children:"Latitude"}),Object(n.jsx)("th",{children:"Longitude"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.countryName}),Object(n.jsx)("td",{children:e.lat}),Object(n.jsx)("td",{children:e.lng})]},e.geonameId)}))})]})]})}),x=function(e){var t=e.searchHistory;return Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"Last 5 Searches"}),t.map((function(e,t){return Object(n.jsx)("div",{children:e},t)}))]})},p=(c(47),function(e){var t=e.message;return Object(n.jsx)("div",{className:"error",children:t})}),m=function(){var e=Object(s.useRef)(),t=Object(s.useState)(null),c=Object(b.a)(t,2),r=c[0],a=c[1],i=Object(s.useState)([]),j=Object(b.a)(i,2),h=j[0],m=j[1],f=Object(s.useState)(!1),v=Object(b.a)(f,2),S=v[0],g=v[1],_=Object(s.useState)(""),A=Object(b.a)(_,2),E=A[0],R=A[1],N=function(){var t=Object(d.a)(o.a.mark((function t(c){var n,s,r,i,j,d,b,l,x;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),n=e.current.value,s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAX_ROWS:"10",REACT_APP_USER_NAME:"vishwasvj92"}),r=s.REACT_APP_USER_NAME,i=s.REACT_APP_MAX_ROWS,j="http://api.geonames.org/searchJSON?q=".concat(n,"&maxRows=").concat(i,"&username=").concat(r),d=n||"ALL",5===h.length?m([].concat(Object(u.a)(h.slice(1)),[d])):m([].concat(Object(u.a)(h),[d])),t.prev=6,g(!0),a(null),t.next=11,O.a.get(j);case 11:b=t.sent,l=b.data,x=[],l.geonames.map((function(e){return x.push(e)})),g(!1),a(x),R(""),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(6),P(t.t0),g(!1);case 24:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}(),P=function(e){e.response?R("Server error in sending the response"):e.request?R("Request from client was unsuccessful"):R(e.message)};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:N,children:[Object(n.jsx)("input",{type:"text",className:"searchBox",ref:e}),Object(n.jsx)("button",{type:"submit",className:"searchButton",onClick:N,disabled:S,children:S?Object(n.jsx)("span",{children:"Searching..."}):Object(n.jsx)("span",{children:"Search"})})]}),h.length>0&&Object(n.jsx)(x,{searchHistory:h}),E&&Object(n.jsx)(p,{message:E}),r&&(r.length>0?Object(n.jsx)(l,{geoNames:r}):Object(n.jsx)(p,{message:"No Records Found"}))]})};var f=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(m,{})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.8582cdab.chunk.js.map